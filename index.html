<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador de Desconto de Energia</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f4f4f9;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .top-image {
      width: 100%;
      height: 180px;
      background: url("LOGO-03.png") no-repeat center center;
      background-size: contain;
      margin-top: 20px;
    }

    .card {
      margin-top: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .btn-custom {
      background-color: #28a745;
      color: #fff;
    }

    .btn-custom:hover {
      background-color: #218838;
    }

    .centralizado {
      text-align: center;
    }

    @media (max-width: 480px) {
      .top-image {
        height: 150px;
      }
    }
  </style>
</head>
<body>

  <!-- Imagem no topo -->
  <div class="top-image mx-auto"></div>

  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card p-4" style="max-width: 450px; width: 100%;">
      <h2 class="text-center mb-4">Simule seu Desconto de 20%</h2>

      <div class="mb-3">
        <label for="iluminacao" class="form-label">Iluminação Pública (R$):</label>
        <input type="number" class="form-control" id="iluminacao" inputmode="decimal" min="0" placeholder="Ex: 17,65" autofocus>
      </div>

      <div class="mb-3">
        <label for="consumo" class="form-label">Consumo Mensal (kWh):</label>
        <input type="number" class="form-control" id="consumo" inputmode="decimal" min="0" placeholder="Ex: 220">
      </div>

      <button class="btn btn-custom w-100" onclick="calcular()">Calcular</button>

      <div id="resultado" class="mt-4"></div>
      <div id="erro" class="mt-2 text-danger fw-bold text-center"></div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    function calcular() {
      let iluminacao = parseFloat(document.getElementById('iluminacao').value) || 0;
      let consumo = parseFloat(document.getElementById('consumo').value) || 0;

      if (iluminacao <= 0 || consumo < 0) {
        document.getElementById('erro').textContent = "⚠️ Os valores não podem ser negativos.";
        document.getElementById('resultado').innerHTML = "";
        return;
      } else {
        document.getElementById('erro').textContent = "";
      }

      const tarifaTE = 0.32159;
      const tarifaTUSD = 0.6098;
      const adcBandeira = 0.10328;
      const desconto = 0.20;

      let valorConsumo = (consumo * (tarifaTE + tarifaTUSD)) + (consumo * adcBandeira);
      let valorTotal = valorConsumo + iluminacao;
      let valorComDesconto = valorTotal * desconto;
      let valorDescFatura  = valorTotal - valorComDesconto;

      let descontoMensal = valorTotal * desconto;
      let descontoAnual = descontoMensal * 12;

      if (valorDescFatura < 0) {
        valorComDescFatura = 0;
      }

      function formatar(valor) {
        return valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
      }

      document.getElementById('resultado').innerHTML = `
        <div class="alert alert-light border">
          <p><strong>Valor da sua fatura:</strong> ${formatar(valorTotal)}</p>
          <p class="centralizado"><strong><span class="text-success">FATURA SUNBOLT FLEX</span></strong></p>
          <p><strong>Valor Total da fatura c/ desconto:</strong> ${formatar(valorDescFatura)}</p>
          <p><strong>Desconto mensal previsto:</strong> ${formatar(descontoMensal)}</p>
          <p><strong>Desconto anual previsto:</strong> ${formatar(descontoAnual)}</p>
        </div>
      `;
    }
  </script>
</body>
</html>
